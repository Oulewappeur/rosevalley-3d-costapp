<!doctype html>
<html lang="nl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Rosevalley 3D Cost App</title>

<link rel="stylesheet" href="css/styles.css">

<!-- jsPDF voor PDF export -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
  <div id="app">
    <aside class="sidebar">
      <div class="header">
        <!-- Default logo src staat naar jouw uploadpad; vervang indien nodig -->
        <img id="rv-logo" src="images/logo.jpg" alt="Rosevalley logo">
        <h1>Rosevalley 3D Prints</h1>
        <p class="sub">Prijs Calculator</p>
      </div>

      <section class="card">
        <h2>Printer</h2>
        <label>Printuren</label>
        <input id="hours" type="number" min="0" value="1">

        <label>Piekvermogen printer (W)</label>
        <input id="printerWatts" type="number" min="0" value="200">

        <label>Dryer (W)</label>
        <input id="dryerWatts" type="number" min="0" value="40">

        <label>AMS (W)</label>
        <input id="amsWatts" type="number" min="0" value="10">

        <label>Stroomprijs (â‚¬/kWh)</label>
        <input id="kwhPrice" step="0.01" value="0.35">
      </section>

      <section class="card">
        <h2>Filament</h2>

        <label>Filament rol (kies of beheer DB)</label>
        <select id="filamentSelect"></select>

        <div class="row">
          <div style="flex:1">
            <label>Gebruik (g)</label>
            <input id="gramsUsed" type="number" min="0" value="50">
          </div>
          <div style="flex:1; margin-left:8px">
            <label>Spoolgewicht (g)</label>
            <input id="spoolWeight" type="number" min="1" value="1000">
          </div>
        </div>

        <label>Prijs per rol (â‚¬)</label>
        <input id="spoolPrice" type="number" step="0.01" value="25.00">

        <div class="db-actions">
          <button id="addSpoolBtn" class="muted">Nieuw in DB</button>
          <button id="editSpoolBtn" class="muted">Bewerk selectie</button>
        </div>
      </section>

      <section class="card">
        <h2>Prijs & marge</h2>
        <label>Marge (%)</label>
        <input id="margin" type="number" value="30" min="0">

        <button id="calcBtn" class="primary">ðŸ’¶ Bereken prijs</button>
        <button id="exportPdfBtn" class="secondary">ðŸ“„ Exporteer offerte (PDF)</button>
      </section>

      <div id="result" class="result hidden"></div>

      <section class="card small">
        <h3>DB / Opslag</h3>
        <div class="row">
          <button id="exportJson" class="muted">Export DB</button>
          <button id="importJson" class="muted">Import DB</button>
        </div>
        <p class="tiny">Data wordt lokaal opgeslagen (localStorage). Import/Export voor backup.</p>
      </section>
    </aside>

    <main class="content">
      <h2>Filament database & geschiedenis</h2>
      <div id="dbTable"></div>

      <h2>Geschiedenis</h2>
      <div id="history"></div>
    </main>
  </div>

<script src="js/db.js"></script>
<script src="js/app.js"></script>
</body>
</html>
